<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>پنل مدیریت کافی‌شاپ</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* استایل‌های پایه */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8f5f0;
            color: #3e2c1c;
            line-height: 1.6;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* هدر پنل مدیریت */
        .admin-header {
            background: linear-gradient(135deg, #4a3520 0%, #3e2c1c 100%);
            color: #f8f5f0;
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            position: sticky;
            top: 0;
            z-index: 1000;
            margin-bottom: 30px;
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            text-decoration: none;
            color: #f8f5f0;
        }

        .logo i {
            font-size: 2.5rem;
            color: #d4a762;
        }

        .logo-text h1 {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }

        .logo-text p {
            font-size: 0.9rem;
            color: #e6d7c0;
            opacity: 0.9;
        }

        .admin-menu {
            display: flex;
            gap: 20px;
        }

        .menu-btn {
            background: rgba(212, 167, 98, 0.1);
            border: 1px solid rgba(212, 167, 98, 0.3);
            color: #f8f5f0;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .menu-btn:hover {
            background: rgba(212, 167, 98, 0.3);
            transform: translateY(-2px);
        }

        .menu-btn.active {
            background: #d4a762;
            color: #4a3520;
        }

        /* بخش اصلی پنل */
        .admin-main {
            display: grid;
            grid-template-columns: 1fr 300px;
            gap: 30px;
            margin: 30px 0;
        }

        .main-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
        }

        .sidebar {
            background: white;
            border-radius: 12px;
            padding: 25px;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.08);
            align-self: start;
            position: sticky;
            top: 100px;
        }

        /* تیتر بخش‌ها */
        .section-title {
            font-size: 1.8rem;
            color: #4a3520;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #d4a762;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .section-title i {
            color: #d4a762;
        }

        /* فرم‌ها */
        .form-container {
            background: #f8f5f0;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 30px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: #4a3520;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid #e6d7c0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
            background: white;
        }

        .form-control:focus {
            outline: none;
            border-color: #d4a762;
            box-shadow: 0 0 0 3px rgba(212, 167, 98, 0.1);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
        }

        /* آپلود عکس */
        .image-upload {
            border: 2px dashed #e6d7c0;
            border-radius: 8px;
            padding: 30px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
            position: relative;
        }

        .image-upload:hover {
            border-color: #d4a762;
            background: rgba(212, 167, 98, 0.05);
        }

        .image-upload i {
            font-size: 3rem;
            color: #e6d7c0;
            margin-bottom: 15px;
        }

        .image-upload p {
            color: #6b5c48;
            margin-bottom: 10px;
        }

        .image-preview-container {
            width: 100%;
            height: 250px;
            margin-top: 15px;
            border-radius: 8px;
            overflow: hidden;
            display: none;
        }

        .image-preview {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        /* دکمه‌ها */
        .btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: inline-flex;
            align-items: center;
            gap: 8px;
            text-decoration: none;
        }

        .btn-primary {
            background: #d4a762;
            color: white;
        }

        .btn-primary:hover {
            background: #b38f4a;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(212, 167, 98, 0.3);
        }

        .btn-secondary {
            background: #6b5c48;
            color: white;
        }

        .btn-secondary:hover {
            background: #554a3b;
        }

        .btn-danger {
            background: #dc3545;
            color: white;
        }

        .btn-danger:hover {
            background: #c82333;
        }

        .btn-small {
            padding: 6px 12px;
            font-size: 0.9rem;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }

        /* جداول */
        .table-container {
            overflow-x: auto;
            margin-top: 20px;
        }

        .table {
            width: 100%;
            border-collapse: collapse;
            min-width: 600px;
        }

        .table th {
            background: #f1e9dd;
            color: #4a3520;
            padding: 15px;
            text-align: right;
            font-weight: 600;
            border-bottom: 2px solid #d4a762;
        }

        .table td {
            padding: 15px;
            border-bottom: 1px solid #e6d7c0;
            vertical-align: middle;
        }

        .table tr:hover {
            background: rgba(248, 245, 240, 0.5);
        }

        .category-badge {
            display: inline-block;
            padding: 5px 12px;
            background: rgba(212, 167, 98, 0.2);
            color: #4a3520;
            border-radius: 20px;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .product-image {
            width: 60px;
            height: 60px;
            object-fit: cover;
            border-radius: 8px;
        }

        /* سایدبار */
        .stats-card {
            background: linear-gradient(135deg, #4a3520 0%, #3e2c1c 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }

        .stats-card i {
            font-size: 2.5rem;
            color: #d4a762;
            margin-bottom: 10px;
        }

        .stats-card h3 {
            font-size: 2rem;
            margin-bottom: 5px;
        }

        .stats-card p {
            color: #e6d7c0;
            font-size: 0.9rem;
        }

        .category-list {
            margin-top: 20px;
        }

        .category-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #e6d7c0;
        }

        .category-item:last-child {
            border-bottom: none;
        }

        .category-name {
            font-weight: 600;
            color: #4a3520;
        }

        .category-count {
            background: #d4a762;
            color: white;
            padding: 3px 10px;
            border-radius: 12px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        /* فیلتر محصولات */
        .filter-bar {
            background: #f1e9dd;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            display: flex;
            gap: 15px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-select {
            padding: 10px 15px;
            border: 1px solid #e6d7c0;
            border-radius: 8px;
            background: white;
            color: #4a3520;
            font-size: 0.9rem;
            min-width: 150px;
        }

        /* وضعیت */
        .status-active {
            color: #28a745;
            font-weight: 600;
        }

        .status-inactive {
            color: #dc3545;
            font-weight: 600;
        }

        /* اعلان */
        .notification {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-20px);
            background-color: #28a745;
            color: white;
            padding: 15px 25px;
            border-radius: 8px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 10000;
            opacity: 0;
            transition: all 0.3s ease;
        }

        .notification.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        /* مودال ویرایش */
        .edit-modal {
            display: none;
            position: fixed;
            top: 0;
            right: 0;
            bottom: 0;
            left: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 2000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .edit-modal.active {
            display: flex;
        }

        .edit-modal-content {
            background: white;
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .edit-modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 25px;
            padding-bottom: 15px;
            border-bottom: 2px solid #d4a762;
        }

        .edit-modal-title {
            font-size: 1.5rem;
            color: #4a3520;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .edit-modal-title i {
            color: #d4a762;
        }

        .close-edit-modal {
            background: none;
            border: none;
            font-size: 1.8rem;
            color: #6b5c48;
            cursor: pointer;
            padding: 5px;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            transition: all 0.3s ease;
        }

        .close-edit-modal:hover {
            background: rgba(212, 167, 98, 0.1);
            color: #4a3520;
        }

        .edit-modal-body {
            margin-bottom: 25px;
        }

        .edit-image-preview {
            width: 100%;
            height: 200px;
            border-radius: 8px;
            overflow: hidden;
            margin-bottom: 20px;
            border: 1px solid #e6d7c0;
        }

        .edit-image-preview img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .edit-modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 10px;
            padding-top: 20px;
            border-top: 1px solid #e6d7c0;
        }

        /* رسپانسیو */
        @media (max-width: 992px) {
            .admin-main {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                position: static;
            }
        }

        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .admin-menu {
                width: 100%;
                justify-content: center;
                flex-wrap: wrap;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .filter-bar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .filter-select {
                width: 100%;
            }
            
            .action-buttons {
                justify-content: center;
            }
            
            .edit-modal-content {
                padding: 20px;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 20px;
            }
            
            .section-title {
                font-size: 1.5rem;
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
            
            .edit-modal-footer {
                flex-direction: column;
            }
            
            .edit-modal-footer .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <!-- هدر پنل مدیریت -->
    <header class="admin-header">
        <div class="container">
            <div class="header-content">
                <a href="index.html" class="logo">
                    <i class="fas fa-cogs"></i>
                    <div class="logo-text">
                        <h1>پنل مدیریت کافی‌شاپ</h1>
                        <p>مدیریت منو و محصولات</p>
                    </div>
                </a>
                
                <div class="admin-menu">
                    <a href="#categories-section" class="menu-btn active">
                        <i class="fas fa-layer-group"></i>
                        مدیریت دسته‌ها
                    </a>
                    <a href="#products-section" class="menu-btn">
                        <i class="fas fa-coffee"></i>
                        مدیریت محصولات
                    </a>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div class="admin-main">
            <!-- محتوای اصلی -->
            <div class="main-content">
                <!-- بخش مدیریت دسته‌ها -->
                <section id="categories-section" class="section">
                    <h2 class="section-title">
                        <i class="fas fa-layer-group"></i>
                        مدیریت دسته‌ها
                    </h2>
                    
                    <!-- فرم اضافه کردن دسته جدید -->
                    <div class="form-container">
                        <h3 style="color: #4a3520; margin-bottom: 20px;">افزودن دسته جدید</h3>
                        <form id="categoryForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="categoryName">نام دسته</label>
                                    <input type="text" id="categoryName" class="form-control" placeholder="مثلا: قهوه‌های ویژه" required>
                                </div>
                                <div class="form-group">
                                    <label for="categoryOrder">ترتیب نمایش</label>
                                    <input type="number" id="categoryOrder" class="form-control" value="1" min="1">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="categoryDescription">توضیحات (اختیاری)</label>
                                <textarea id="categoryDescription" class="form-control" rows="3" placeholder="توضیح کوتاه درباره دسته..."></textarea>
                            </div>
                            
                            <div class="action-buttons">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    افزودن دسته
                                </button>
                                <button type="button" id="cancelEdit" class="btn btn-secondary">
                                    <i class="fas fa-times"></i>
                                    انصراف
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <!-- لیست دسته‌ها -->
                    <h3 style="color: #4a3520; margin: 30px 0 15px;">دسته‌های موجود</h3>
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>نام دسته</th>
                                    <th>توضیحات</th>
                                    <th>ترتیب</th>
                                    <th>تعداد محصولات</th>
                                    <th>وضعیت</th>
                                    <th>عملیات</th>
                                </tr>
                            </thead>
                            <tbody id="categoriesTable">
                                <!-- دسته‌ها -->
                                <tr>
                                    <td><strong>قهوه‌ها</strong></td>
                                    <td>انواع قهوه‌های گرم</td>
                                    <td>1</td>
                                    <td><span class="category-count">3</span></td>
                                    <td><span class="status-active">فعال</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary btn-small edit-category-btn" data-name="قهوه‌ها" data-description="انواع قهوه‌های گرم" data-order="1">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-small">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>چای‌ها</strong></td>
                                    <td>انواع چای ایرانی و خارجی</td>
                                    <td>2</td>
                                    <td><span class="category-count">2</span></td>
                                    <td><span class="status-active">فعال</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary btn-small edit-category-btn" data-name="چای‌ها" data-description="انواع چای ایرانی و خارجی" data-order="2">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-small">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>نوشیدنی سرد</strong></td>
                                    <td>نوشیدنی‌های خنک</td>
                                    <td>3</td>
                                    <td><span class="category-count">2</span></td>
                                    <td><span class="status-active">فعال</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary btn-small edit-category-btn" data-name="نوشیدنی سرد" data-description="نوشیدنی‌های خنک" data-order="3">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-small">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><strong>دسر و شیرینی</strong></td>
                                    <td>انواع دسر و شیرینی</td>
                                    <td>4</td>
                                    <td><span class="category-count">2</span></td>
                                    <td><span class="status-active">فعال</span></td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary btn-small edit-category-btn" data-name="دسر و شیرینی" data-description="انواع دسر و شیرینی" data-order="4">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-small">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
                
                <!-- بخش مدیریت محصولات -->
                <section id="products-section" class="section">
                    <h2 class="section-title">
                        <i class="fas fa-coffee"></i>
                        مدیریت محصولات
                    </h2>
                    
                    <!-- فرم اضافه کردن محصول جدید -->
                    <div class="form-container">
                        <h3 style="color: #4a3520; margin-bottom: 20px;">افزودن محصول جدید</h3>
                        <form id="productForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="productName">نام محصول</label>
                                    <input type="text" id="productName" class="form-control" placeholder="مثلا: اسپرسو دبل" required>
                                </div>
                                <div class="form-group">
                                    <label for="productCategory">دسته‌بندی</label>
                                    <select id="productCategory" class="form-control" required>
                                        <option value="">انتخاب دسته</option>
                                        <option value="1">قهوه‌ها</option>
                                        <option value="2">چای‌ها</option>
                                        <option value="3">نوشیدنی سرد</option>
                                        <option value="4">دسر و شیرینی</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label for="productPrice">قیمت (تومان)</label>
                                    <input type="text" id="productPrice" class="form-control" placeholder="45000" required>
                                </div>
                                <div class="form-group">
                                    <label for="productOrder">ترتیب نمایش</label>
                                    <input type="number" id="productOrder" class="form-control" value="1" min="1">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label for="productDescription">توضیحات محصول</label>
                                <textarea id="productDescription" class="form-control" rows="3" placeholder="توضیح کامل درباره محصول..." required></textarea>
                            </div>
                            
                            <!-- آپلود عکس -->
                            <div class="form-group">
                                <label>عکس محصول</label>
                                <div class="image-upload" id="imageUpload">
                                    <i class="fas fa-cloud-upload-alt"></i>
                                    <p>برای آپلود عکس کلیک کنید یا فایل را اینجا بکشید</p>
                                    <span style="color: #6b5c48; font-size: 0.9rem;">فرمت‌های مجاز: JPG, PNG, GIF (حداکثر 2MB)</span>
                                    <input type="file" id="productImage" accept="image/*" style="display: none;">
                                    <div class="image-preview-container" id="imagePreviewContainer">
                                        <img id="imagePreview" class="image-preview" alt="پیش‌نمایش عکس">
                                    </div>
                                </div>
                            </div>
                            
                            <div class="action-buttons">
                                <button type="submit" class="btn btn-primary">
                                    <i class="fas fa-plus"></i>
                                    افزودن محصول
                                </button>
                                <button type="button" id="cancelProductEdit" class="btn btn-secondary">
                                    <i class="fas fa-times"></i>
                                    انصراف
                                </button>
                            </div>
                        </form>
                    </div>
                    
                    <!-- فیلتر محصولات -->
                    <div class="filter-bar">
                        <select id="filterCategory" class="filter-select">
                            <option value="">همه دسته‌ها</option>
                            <option value="1">قهوه‌ها</option>
                            <option value="2">چای‌ها</option>
                            <option value="3">نوشیدنی سرد</option>
                            <option value="4">دسر و شیرینی</option>
                        </select>
                        <input type="text" id="searchProduct" class="form-control" placeholder="جستجوی محصول...">
                    </div>
                    
                    <!-- لیست محصولات -->
                    <div class="table-container">
                        <table class="table">
                            <thead>
                                <tr>
                                    <th>عکس</th>
                                    <th>نام محصول</th>
                                    <th>دسته‌بندی</th>
                                    <th>قیمت</th>
                                    <th>توضیحات</th>
                                    <th>عملیات</th>
                                </tr>
                            </thead>
                            <tbody id="productsTable">
                                <!-- محصولات -->
                                <tr>
                                    <td><img src="images/photo19968946410.jpg" class="product-image" alt="اسپرسو"></td>
                                    <td><strong>اسپرسو</strong></td>
                                    <td><span class="category-badge">قهوه‌ها</span></td>
                                    <td>45,000 تومان</td>
                                    <td style="max-width: 200px;">قهوه اسپرسوی خالص و غلیظ</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary btn-small edit-product-btn" data-name="اسپرسو" data-category="1" data-price="45000" data-description="قهوه اسپرسوی خالص و غلیظ" data-order="1">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-small">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><img src="images/photo19968946410.jpg" class="product-image" alt="آمریکانو"></td>
                                    <td><strong>آمریکانو</strong></td>
                                    <td><span class="category-badge">قهوه‌ها</span></td>
                                    <td>55,000 تومان</td>
                                    <td style="max-width: 200px;">اسپرسو رقیق شده با آب داغ</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary btn-small edit-product-btn" data-name="آمریکانو" data-category="1" data-price="55000" data-description="اسپرسو رقیق شده با آب داغ" data-order="2">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-small">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                                <tr>
                                    <td><img src="images/photo19968946410.jpg" class="product-image" alt="لته"></td>
                                    <td><strong>لته</strong></td>
                                    <td><span class="category-badge">قهوه‌ها</span></td>
                                    <td>65,000 تومان</td>
                                    <td style="max-width: 200px;">ترکیب اسپرسو و شیر بخار داده شده</td>
                                    <td>
                                        <div class="action-buttons">
                                            <button class="btn btn-primary btn-small edit-product-btn" data-name="لته" data-category="1" data-price="65000" data-description="ترکیب اسپرسو و شیر بخار داده شده" data-order="3">
                                                <i class="fas fa-edit"></i>
                                            </button>
                                            <button class="btn btn-danger btn-small">
                                                <i class="fas fa-trash"></i>
                                            </button>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </section>
            </div>
            
            <!-- سایدبار -->
            <aside class="sidebar">
                <!-- آمار کلی -->
                <div class="stats-card">
                    <i class="fas fa-chart-bar"></i>
                    <h3>9</h3>
                    <p>تعداد کل محصولات</p>
                </div>
                
                <div class="stats-card">
                    <i class="fas fa-layer-group"></i>
                    <h3>4</h3>
                    <p>تعداد دسته‌ها</p>
                </div>
                
                <!-- لیست دسته‌ها با تعداد -->
                <h3 style="color: #4a3520; margin: 25px 0 15px;">دسته‌ها و تعداد محصولات</h3>
                <div class="category-list" id="sidebarCategories">
                    <!-- دسته‌ها با تعداد محصولات -->
                    <div class="category-item">
                        <span class="category-name">قهوه‌ها</span>
                        <span class="category-count">3</span>
                    </div>
                    <div class="category-item">
                        <span class="category-name">چای‌ها</span>
                        <span class="category-count">2</span>
                    </div>
                    <div class="category-item">
                        <span class="category-name">نوشیدنی سرد</span>
                        <span class="category-count">2</span>
                    </div>
                    <div class="category-item">
                        <span class="category-name">دسر و شیرینی</span>
                        <span class="category-count">2</span>
                    </div>
                </div>
            </aside>
        </div>
    </div>

    <!-- مودال ویرایش دسته -->
    <div class="edit-modal" id="editCategoryModal">
        <div class="edit-modal-content">
            <div class="edit-modal-header">
                <h3 class="edit-modal-title">
                    <i class="fas fa-edit"></i>
                    ویرایش دسته
                </h3>
                <button class="close-edit-modal" id="closeEditCategoryModal">&times;</button>
            </div>
            <div class="edit-modal-body">
                <form id="editCategoryForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editCategoryName">نام دسته</label>
                            <input type="text" id="editCategoryName" class="form-control" placeholder="نام دسته" required>
                        </div>
                        <div class="form-group">
                            <label for="editCategoryOrder">ترتیب نمایش</label>
                            <input type="number" id="editCategoryOrder" class="form-control" value="1" min="1">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editCategoryDescription">توضیحات (اختیاری)</label>
                        <textarea id="editCategoryDescription" class="form-control" rows="3" placeholder="توضیح کوتاه درباره دسته..."></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>وضعیت</label>
                        <div style="display: flex; gap: 20px; margin-top: 10px;">
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="editCategoryStatus" value="active" checked>
                                <span>فعال</span>
                            </label>
                            <label style="display: flex; align-items: center; gap: 5px; cursor: pointer;">
                                <input type="radio" name="editCategoryStatus" value="inactive">
                                <span>غیرفعال</span>
                            </label>
                        </div>
                    </div>
                </form>
            </div>
            <div class="edit-modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelEditCategory">انصراف</button>
                <button type="button" class="btn btn-primary" id="saveEditCategory">ذخیره تغییرات</button>
            </div>
        </div>
    </div>

    <!-- مودال ویرایش محصول -->
    <div class="edit-modal" id="editProductModal">
        <div class="edit-modal-content">
            <div class="edit-modal-header">
                <h3 class="edit-modal-title">
                    <i class="fas fa-edit"></i>
                    ویرایش محصول
                </h3>
                <button class="close-edit-modal" id="closeEditProductModal">&times;</button>
            </div>
            <div class="edit-modal-body">
                <div class="edit-image-preview">
                    <img src="images/photo19968946410.jpg" alt="تصویر محصول" id="editProductImagePreview">
                </div>
                
                <form id="editProductForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editProductName">نام محصول</label>
                            <input type="text" id="editProductName" class="form-control" placeholder="نام محصول" required>
                        </div>
                        <div class="form-group">
                            <label for="editProductCategory">دسته‌بندی</label>
                            <select id="editProductCategory" class="form-control" required>
                                <option value="">انتخاب دسته</option>
                                <option value="1">قهوه‌ها</option>
                                <option value="2">چای‌ها</option>
                                <option value="3">نوشیدنی سرد</option>
                                <option value="4">دسر و شیرینی</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="editProductPrice">قیمت (تومان)</label>
                            <input type="text" id="editProductPrice" class="form-control" placeholder="قیمت" required>
                        </div>
                        <div class="form-group">
                            <label for="editProductOrder">ترتیب نمایش</label>
                            <input type="number" id="editProductOrder" class="form-control" value="1" min="1">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editProductDescription">توضیحات محصول</label>
                        <textarea id="editProductDescription" class="form-control" rows="3" placeholder="توضیح کامل درباره محصول..." required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>آپلود عکس جدید (اختیاری)</label>
                        <div class="image-upload" id="editImageUpload" style="padding: 15px;">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p style="font-size: 0.9rem;">برای تغییر عکس کلیک کنید</p>
                            <input type="file" id="editProductImage" accept="image/*" style="display: none;">
                        </div>
                    </div>
                </form>
            </div>
            <div class="edit-modal-footer">
                <button type="button" class="btn btn-secondary" id="cancelEditProduct">انصراف</button>
                <button type="button" class="btn btn-primary" id="saveEditProduct">ذخیره تغییرات</button>
            </div>
        </div>
    </div>

    <script>
        // مدیریت آپلود عکس
        document.addEventListener('DOMContentLoaded', function() {
            // عناصر مربوط به آپلود عکس
            const imageUpload = document.getElementById('imageUpload');
            const productImageInput = document.getElementById('productImage');
            const imagePreviewContainer = document.getElementById('imagePreviewContainer');
            const imagePreview = document.getElementById('imagePreview');
            
            // کلیک روی منطقه آپلود
            if (imageUpload) {
                imageUpload.addEventListener('click', function(e) {
                    // اگر کلیک روی تصویر پیش‌نمایش بود، کاری نکن
                    if (e.target === imagePreview) return;
                    
                    // باز کردن پنجره انتخاب فایل
                    productImageInput.click();
                });
                
                // جلوگیری از رفتار پیش‌فرض کشیدن و رها کردن
                imageUpload.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.style.borderColor = '#d4a762';
                    this.style.backgroundColor = 'rgba(212, 167, 98, 0.1)';
                });
                
                imageUpload.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.style.borderColor = '#e6d7c0';
                    this.style.backgroundColor = 'white';
                });
                
                // مدیریت رها کردن فایل
                imageUpload.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.style.borderColor = '#e6d7c0';
                    this.style.backgroundColor = 'white';
                    
                    if (e.dataTransfer.files.length > 0) {
                        handleImageFile(e.dataTransfer.files[0], imagePreview, imagePreviewContainer);
                    }
                });
            }
            
            // تغییر فایل انتخاب شده
            if (productImageInput) {
                productImageInput.addEventListener('change', function(e) {
                    if (this.files.length > 0) {
                        handleImageFile(this.files[0], imagePreview, imagePreviewContainer);
                    }
                });
            }
            
            // تابع مدیریت فایل تصویر
            function handleImageFile(file, previewElement, containerElement) {
                // بررسی نوع فایل
                if (!file.type.match('image.*')) {
                    showNotification('لطفاً یک فایل تصویری انتخاب کنید', 'error');
                    return;
                }
                
                // بررسی حجم فایل (حداکثر 2MB)
                if (file.size > 2 * 1024 * 1024) {
                    showNotification('حجم فایل نباید بیشتر از 2 مگابایت باشد', 'error');
                    return;
                }
                
                // خواندن فایل و نمایش پیش‌نمایش
                const reader = new FileReader();
                reader.onload = function(e) {
                    previewElement.src = e.target.result;
                    containerElement.style.display = 'block';
                    showNotification('عکس با موفقیت آپلود شد', 'success');
                };
                reader.onerror = function() {
                    showNotification('خطا در خواندن فایل', 'error');
                };
                reader.readAsDataURL(file);
            }
            
            // مدیریت فرم محصول
            const productForm = document.getElementById('productForm');
            if (productForm) {
                productForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // گرفتن مقادیر فرم
                    const productName = document.getElementById('productName').value;
                    const productCategory = document.getElementById('productCategory').value;
                    const productPrice = document.getElementById('productPrice').value;
                    const productDescription = document.getElementById('productDescription').value;
                    
                    // اعتبارسنجی ساده
                    if (!productName || !productCategory || !productPrice || !productDescription) {
                        showNotification('لطفاً همه فیلدهای ضروری را پر کنید', 'error');
                        return;
                    }
                    
                    // نمایش پیام موفقیت
                    showNotification('محصول با موفقیت اضافه شد', 'success');
                    
                    // ریست فرم
                    this.reset();
                    document.getElementById('productOrder').value = 1;
                    imagePreviewContainer.style.display = 'none';
                    imagePreview.src = '';
                });
            }
            
            // مدیریت فرم دسته
            const categoryForm = document.getElementById('categoryForm');
            if (categoryForm) {
                categoryForm.addEventListener('submit', function(e) {
                    e.preventDefault();
                    
                    // گرفتن مقادیر فرم
                    const categoryName = document.getElementById('categoryName').value;
                    
                    // اعتبارسنجی ساده
                    if (!categoryName) {
                        showNotification('لطفاً نام دسته را وارد کنید', 'error');
                        return;
                    }
                    
                    // نمایش پیام موفقیت
                    showNotification('دسته با موفقیت اضافه شد', 'success');
                    
                    // ریست فرم
                    this.reset();
                    document.getElementById('categoryOrder').value = 1;
                });
            }
            
            // مدیریت مودال ویرایش دسته
            const editCategoryModal = document.getElementById('editCategoryModal');
            const editCategoryButtons = document.querySelectorAll('.edit-category-btn');
            const closeEditCategoryModal = document.getElementById('closeEditCategoryModal');
            const cancelEditCategory = document.getElementById('cancelEditCategory');
            const saveEditCategory = document.getElementById('saveEditCategory');
            
            // باز کردن مودال ویرایش دسته
            editCategoryButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const name = this.getAttribute('data-name');
                    const description = this.getAttribute('data-description');
                    const order = this.getAttribute('data-order');
                    
                    // پر کردن فرم با داده‌های فعلی
                    document.getElementById('editCategoryName').value = name;
                    document.getElementById('editCategoryDescription').value = description;
                    document.getElementById('editCategoryOrder').value = order;
                    
                    // نمایش مودال
                    editCategoryModal.classList.add('active');
                });
            });
            
            // بستن مودال ویرایش دسته
            function closeCategoryModal() {
                editCategoryModal.classList.remove('active');
            }
            
            if (closeEditCategoryModal) {
                closeEditCategoryModal.addEventListener('click', closeCategoryModal);
            }
            
            if (cancelEditCategory) {
                cancelEditCategory.addEventListener('click', closeCategoryModal);
            }
            
            // ذخیره تغییرات دسته (غیرفعال)
            if (saveEditCategory) {
                saveEditCategory.addEventListener('click', function() {
                    showNotification('امکان ذخیره تغییرات در این نسخه وجود ندارد', 'info');
                    closeCategoryModal();
                });
            }
            
            // مدیریت مودال ویرایش محصول
            const editProductModal = document.getElementById('editProductModal');
            const editProductButtons = document.querySelectorAll('.edit-product-btn');
            const closeEditProductModal = document.getElementById('closeEditProductModal');
            const cancelEditProduct = document.getElementById('cancelEditProduct');
            const saveEditProduct = document.getElementById('saveEditProduct');
            const editProductImageUpload = document.getElementById('editImageUpload');
            const editProductImageInput = document.getElementById('editProductImage');
            const editProductImagePreview = document.getElementById('editProductImagePreview');
            
            // باز کردن مودال ویرایش محصول
            editProductButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const name = this.getAttribute('data-name');
                    const category = this.getAttribute('data-category');
                    const price = this.getAttribute('data-price');
                    const description = this.getAttribute('data-description');
                    const order = this.getAttribute('data-order');
                    
                    // پر کردن فرم با داده‌های فعلی
                    document.getElementById('editProductName').value = name;
                    document.getElementById('editProductCategory').value = category;
                    document.getElementById('editProductPrice').value = price;
                    document.getElementById('editProductDescription').value = description;
                    document.getElementById('editProductOrder').value = order;
                    
                    // نمایش مودال
                    editProductModal.classList.add('active');
                });
            });
            
            // آپلود عکس در مودال ویرایش
            if (editProductImageUpload && editProductImageInput) {
                editProductImageUpload.addEventListener('click', function() {
                    editProductImageInput.click();
                });
                
                editProductImageInput.addEventListener('change', function(e) {
                    if (this.files.length > 0) {
                        handleImageFile(this.files[0], editProductImagePreview, editProductImagePreview.parentElement);
                    }
                });
            }
            
            // بستن مودال ویرایش محصول
            function closeProductModal() {
                editProductModal.classList.remove('active');
            }
            
            if (closeEditProductModal) {
                closeEditProductModal.addEventListener('click', closeProductModal);
            }
            
            if (cancelEditProduct) {
                cancelEditProduct.addEventListener('click', closeProductModal);
            }
            
            // ذخیره تغییرات محصول (غیرفعال)
            if (saveEditProduct) {
                saveEditProduct.addEventListener('click', function() {
                    showNotification('امکان ذخیره تغییرات در این نسخه وجود ندارد', 'info');
                    closeProductModal();
                });
            }
            
            // مدیریت دکمه‌های حذف
            const deleteButtons = document.querySelectorAll('.btn-danger');
            deleteButtons.forEach(button => {
                button.addEventListener('click', function() {
                    const productName = this.closest('tr').querySelector('strong')?.textContent || 'آیتم';
                    if (confirm(`آیا از حذف "${productName}" مطمئن هستید؟`)) {
                        showNotification(`${productName} با موفقیت حذف شد`, 'success');
                        // در یک نسخه واقعی، اینجا آیتم از لیست حذف می‌شد
                    }
                });
            });
            
            // تابع نمایش اعلان
            function showNotification(message, type = 'success') {
                const notification = document.createElement('div');
                notification.className = 'notification';
                notification.innerHTML = `
                    <i class="fas fa-${type === 'success' ? 'check-circle' : 'exclamation-circle'}"></i>
                    <span>${message}</span>
                `;
                
                notification.style.backgroundColor = type === 'success' ? '#28a745' : 
                                                    type === 'error' ? '#dc3545' : 
                                                    type === 'info' ? '#17a2b8' : '#28a745';
                
                document.body.appendChild(notification);
                
                // نمایش انیمیشن
                setTimeout(() => {
                    notification.classList.add('show');
                }, 10);
                
                // حذف اعلان بعد از 3 ثانیه
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        if (notification.parentNode) {
                            notification.parentNode.removeChild(notification);
                        }
                    }, 300);
                }, 3000);
            }
            
            // بستن مودال با کلیک خارج از آن
            document.addEventListener('click', function(e) {
                if (e.target === editCategoryModal) {
                    closeCategoryModal();
                }
                if (e.target === editProductModal) {
                    closeProductModal();
                }
            });
        });
    </script>
</body>
</html>